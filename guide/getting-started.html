<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Getting Started | Clusters</title>
    <meta name="description" content="A VitePress site">
    <meta name="generator" content="VitePress v1.2.0">
    <link rel="preload stylesheet" href="/assets/style.CWXIOeGS.css" as="style">
    
    <script type="module" src="/assets/app.DmcyOeht.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.BwTyoF0R.js">
    <link rel="modulepreload" href="/assets/chunks/theme.COC10IHf.js">
    <link rel="modulepreload" href="/assets/guide_getting-started.md.CXycuLp9.lean.js">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/line-awesome/1.3.0/line-awesome/css/line-awesome.min.css" rel="stylesheet">
    <link rel="icon" href="/clusters.png">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-f3af772e><!--[--><!--]--><!--[--><span tabindex="-1" data-v-4dbc2f07></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-4dbc2f07> Skip to content </a><!--]--><!----><header class="VPNav" data-v-f3af772e data-v-7c82198e><div class="VPNavBar has-sidebar top" data-v-7c82198e data-v-4f36b251><div class="wrapper" data-v-4f36b251><div class="container" data-v-4f36b251><div class="title" data-v-4f36b251><div class="VPNavBarTitle has-sidebar" data-v-4f36b251 data-v-a8e03954><a class="title" href="/" data-v-a8e03954><!--[--><!--]--><!--[--><img class="VPImage logo" src="/clusters.png" alt data-v-5cd97dc5><!--]--><span data-v-a8e03954>Clusters</span><!--[--><!--]--></a></div></div><div class="content" data-v-4f36b251><div class="content-body" data-v-4f36b251><!--[--><!--]--><div class="VPNavBarSearch search" data-v-4f36b251><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-4f36b251 data-v-4a6327c2><span id="main-nav-aria-label" class="visually-hidden" data-v-4a6327c2>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/about/introduction.html" tabindex="0" data-v-4a6327c2 data-v-4d3f39e5><!--[--><span data-v-4d3f39e5>About</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/guide/getting-started.html" tabindex="0" data-v-4a6327c2 data-v-4d3f39e5><!--[--><span data-v-4d3f39e5>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/learning/introduction.html" tabindex="0" data-v-4a6327c2 data-v-4d3f39e5><!--[--><span data-v-4d3f39e5>Learning</span><!--]--></a><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-4f36b251 data-v-44cfa819 data-v-e5bf0e42><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-e5bf0e42><span class="text" data-v-e5bf0e42><span class="vpi-languages option-icon" data-v-e5bf0e42></span><!----><span class="vpi-chevron-down text-icon" data-v-e5bf0e42></span></span></button><div class="menu" data-v-e5bf0e42><div class="VPMenu" data-v-e5bf0e42 data-v-9b5eb855><!----><!--[--><!--[--><div class="items" data-v-44cfa819><p class="title" data-v-44cfa819>English</p><!--[--><div class="VPMenuLink" data-v-44cfa819 data-v-878bbd93><a class="VPLink link" href="/fr/guide/getting-started.html" data-v-878bbd93><!--[-->French<!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-4f36b251 data-v-3f949ca1><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-3f949ca1 data-v-f86ccc2e data-v-eae6a734><span class="check" data-v-eae6a734><span class="icon" data-v-eae6a734><!--[--><span class="vpi-sun sun" data-v-f86ccc2e></span><span class="vpi-moon moon" data-v-f86ccc2e></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-4f36b251 data-v-35ff2739 data-v-7427b0d0><!--[--><a class="VPSocialLink no-icon" href="https://github.com/tristan-greffe" aria-label="github" target="_blank" rel="noopener" data-v-7427b0d0 data-v-a45c2217><span class="vpi-social-github" /></a><a class="VPSocialLink no-icon" href="https://www.linkedin.com/in/tristan-greffe" aria-label="linkedin" target="_blank" rel="noopener" data-v-7427b0d0 data-v-a45c2217><span class="vpi-social-linkedin" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-4f36b251 data-v-b06d8f02 data-v-e5bf0e42><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-e5bf0e42><span class="vpi-more-horizontal icon" data-v-e5bf0e42></span></button><div class="menu" data-v-e5bf0e42><div class="VPMenu" data-v-e5bf0e42 data-v-9b5eb855><!----><!--[--><!--[--><div class="group translations" data-v-b06d8f02><p class="trans-title" data-v-b06d8f02>English</p><!--[--><div class="VPMenuLink" data-v-b06d8f02 data-v-878bbd93><a class="VPLink link" href="/fr/guide/getting-started.html" data-v-878bbd93><!--[-->French<!--]--></a></div><!--]--></div><div class="group" data-v-b06d8f02><div class="item appearance" data-v-b06d8f02><p class="label" data-v-b06d8f02>Appearance</p><div class="appearance-action" data-v-b06d8f02><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-b06d8f02 data-v-f86ccc2e data-v-eae6a734><span class="check" data-v-eae6a734><span class="icon" data-v-eae6a734><!--[--><span class="vpi-sun sun" data-v-f86ccc2e></span><span class="vpi-moon moon" data-v-f86ccc2e></span><!--]--></span></span></button></div></div></div><div class="group" data-v-b06d8f02><div class="item social-links" data-v-b06d8f02><div class="VPSocialLinks social-links-list" data-v-b06d8f02 data-v-7427b0d0><!--[--><a class="VPSocialLink no-icon" href="https://github.com/tristan-greffe" aria-label="github" target="_blank" rel="noopener" data-v-7427b0d0 data-v-a45c2217><span class="vpi-social-github" /></a><a class="VPSocialLink no-icon" href="https://www.linkedin.com/in/tristan-greffe" aria-label="linkedin" target="_blank" rel="noopener" data-v-7427b0d0 data-v-a45c2217><span class="vpi-social-linkedin" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-4f36b251 data-v-bea67e07><span class="container" data-v-bea67e07><span class="top" data-v-bea67e07></span><span class="middle" data-v-bea67e07></span><span class="bottom" data-v-bea67e07></span></span></button></div></div></div></div><div class="divider" data-v-4f36b251><div class="divider-line" data-v-4f36b251></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-f3af772e data-v-14536a67><div class="container" data-v-14536a67><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-14536a67><span class="vpi-align-left menu-icon" data-v-14536a67></span><span class="menu-text" data-v-14536a67>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-14536a67 data-v-44512aea><button data-v-44512aea>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-f3af772e data-v-be48cb94><div class="curtain" data-v-be48cb94></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-be48cb94><span class="visually-hidden" id="sidebar-aria-label" data-v-be48cb94> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-be48cb94><section class="VPSidebarItem level-0 has-active" data-v-be48cb94 data-v-194b7210><!----><div class="items" data-v-194b7210><!--[--><div class="VPSidebarItem level-1 is-link" data-v-194b7210 data-v-194b7210><div class="item" data-v-194b7210><div class="indicator" data-v-194b7210></div><a class="VPLink link link" href="/guide/getting-started.html" data-v-194b7210><!--[--><p class="text" data-v-194b7210>Getting Started</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-be48cb94><section class="VPSidebarItem level-0 collapsible collapsed" data-v-be48cb94 data-v-194b7210><div class="item" role="button" tabindex="0" data-v-194b7210><div class="indicator" data-v-194b7210></div><h2 class="text" data-v-194b7210>Scripts</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-194b7210><span class="vpi-chevron-right caret-icon" data-v-194b7210></span></div></div><div class="items" data-v-194b7210><!--[--><div class="VPSidebarItem level-1 is-link" data-v-194b7210 data-v-194b7210><div class="item" data-v-194b7210><div class="indicator" data-v-194b7210></div><a class="VPLink link link" href="/guide/scripts/encrypt-decrypt.html" data-v-194b7210><!--[--><p class="text" data-v-194b7210>Encrypt / Decrypt</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-f3af772e data-v-88614b94><div class="VPDoc has-sidebar has-aside" data-v-88614b94 data-v-10b02d2b><!--[--><!--]--><div class="container" data-v-10b02d2b><div class="aside" data-v-10b02d2b><div class="aside-curtain" data-v-10b02d2b></div><div class="aside-container" data-v-10b02d2b><div class="aside-content" data-v-10b02d2b><div class="VPDocAside" data-v-10b02d2b data-v-7b11383b><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" role="navigation" data-v-7b11383b data-v-7f06e3c4><div class="content" data-v-7f06e3c4><div class="outline-marker" data-v-7f06e3c4></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-7f06e3c4>On this page</div><ul class="VPDocOutlineItem root" data-v-7f06e3c4 data-v-899c1ed5><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-7b11383b></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-10b02d2b><div class="content-container" data-v-10b02d2b><!--[--><!--]--><main class="main" data-v-10b02d2b><div style="position:relative;" class="vp-doc _guide_getting-started" data-v-10b02d2b><div><h1 id="getting-started" tabindex="-1">Getting Started <a class="header-anchor" href="#getting-started" aria-label="Permalink to &quot;Getting Started&quot;">​</a></h1><h2 id="prerequisites" tabindex="-1">Prerequisites <a class="header-anchor" href="#prerequisites" aria-label="Permalink to &quot;Prerequisites&quot;">​</a></h2><p>Before you continue, ensure that the following prerequisites are installed on your system:</p><ul><li><a href="https://helm.sh/docs/intro/install/" target="_blank" rel="noreferrer">helm</a> we currently require the <code>3.11</code> version since it supports the range of k8s version we manage. See <a href="https://helm.sh/docs/topics/version_skew/#supported-version-skew" target="_blank" rel="noreferrer">here</a></li><li><a href="https://github.com/databus23/helm-diff" target="_blank" rel="noreferrer">helm-diff plugin</a> to be able to diff new configuration with what&#39;s currently deployed remotely.</li><li><a href="https://github.com/jkroepke/helm-secrets" target="_blank" rel="noreferrer">helm-secrets plugin</a> to be able to store encrypted secrets in the repo and decrypt them before deployment.</li><li><a href="https://age-encryption.org/" target="_blank" rel="noreferrer">age</a> this is the &#39;low-level&#39; encryption tool used to encrypt/decrypt secrets.</li><li><a href="https://github.com/getsops/sops#encrypting-using-age" target="_blank" rel="noreferrer">sops</a> this wraps around <code>age</code> to encrypt/decrypt yaml values.</li></ul><h2 id="file-structure" tabindex="-1">File Structure <a class="header-anchor" href="#file-structure" aria-label="Permalink to &quot;File Structure&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span></span></span></code></pre></div><h2 id="first-time-setup" tabindex="-1">First-Time Setup <a class="header-anchor" href="#first-time-setup" aria-label="Permalink to &quot;First-Time Setup&quot;">​</a></h2><ol><li>clone this project</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>git clone https://github.com/tristan-greffe/clusters.git</span></span></code></pre></div><ol start="2"><li>create an <a href="https://age-encryption.org/" target="_blank" rel="noreferrer">age</a> keypair for yourself. The private key will be used to decrypt secrets in our projects.</li></ol><p>To encrypt/decrypt secrets stored in this repo, you must be added to the list of recipients of the secret files. Start by generating a public/private key pair for yourself:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">age-keygen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;clusters/age/keys.txt&quot;</span></span></code></pre></div><p>The command will print the public key in the terminal; communicate this key to an already authorized developer. This key pair functions like an ID card for yourself. Using the public part, we can encrypt files ensuring you can decrypt them. The private part is used only for decryption and should never be shared. It is stored in the clusters/age/keys.txt file.</p><div class="warning custom-block github-alert"><p class="custom-block-title">WARNING</p><p>Register this age keypair in your password manager; it is essential to keep it safe.</p></div><ol start="3"><li>grant the necessary permissions to execute the scripts:</li></ol><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./scripts/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.sh</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-10b02d2b data-v-413313e7><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-413313e7><span class="visually-hidden" id="doc-footer-aria-label" data-v-413313e7>Pager</span><div class="pager" data-v-413313e7><!----></div><div class="pager" data-v-413313e7><a class="VPLink link pager-link next" href="/guide/scripts/encrypt-decrypt.html" data-v-413313e7><!--[--><span class="desc" data-v-413313e7>Next page</span><span class="title" data-v-413313e7>Encrypt / Decrypt</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-f3af772e data-v-c0005560><div class="container" data-v-c0005560><!----><p class="copyright" data-v-c0005560>MIT Licensed | Copyright © 2024 Tristan Greffe</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"about_introduction.md\":\"CSe5gQdM\",\"fr_about_introduction.md\":\"B8aNfJn0\",\"about_contributing.md\":\"CCm9Y93Y\",\"fr_index.md\":\"ZiNWwxNM\",\"fr_learning_jenkins_introduction.md\":\"Bo0L-8N7\",\"learning_grafana_introduction.md\":\"B2RY_udR\",\"fr_learning_prometheus_introduction.md\":\"CsaffjC_\",\"fr_learning_grafana_introduction.md\":\"C9iaTeBg\",\"fr_about_license.md\":\"BZ6-l6Xb\",\"fr_about_contributing.md\":\"oClGmz2G\",\"learning_jenkins_introduction.md\":\"Dtapwsmv\",\"fr_learning_kubernetes_introduction.md\":\"Db7tb3Rq\",\"learning_introduction.md\":\"ChQ3FII_\",\"learning_kubernetes_introduction.md\":\"Wqgnraw8\",\"guide_getting-started.md\":\"CXycuLp9\",\"index.md\":\"D3WWg_Lw\",\"fr_learning_introduction.md\":\"CHLFpa8t\",\"learning_ansible_introduction.md\":\"BNGUbltQ\",\"fr_guide_getting-started.md\":\"BLwcER93\",\"guide_scripts_encrypt-decrypt.md\":\"Ca750DeC\",\"learning_prometheus_introduction.md\":\"Bygr7Li-\",\"fr_guide_scripts_encrypt-decrypt.md\":\"CTu5GIdT\",\"about_license.md\":\"DteFfRO2\",\"learning_network-protocols_introduction.md\":\"e8whwU11\",\"fr_learning_ansible_introduction.md\":\"Ds657sO5\",\"fr_learning_network-protocols_introduction.md\":\"cljM8pnT\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Clusters\",\"description\":\"A VitePress site\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/clusters.png\",\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/tristan-greffe\"},{\"icon\":\"linkedin\",\"link\":\"https://www.linkedin.com/in/tristan-greffe\"}],\"nav\":[{\"text\":\"About\",\"link\":\"/about/introduction\"},{\"text\":\"Guide\",\"link\":\"/guide/getting-started\"},{\"text\":\"Learning\",\"link\":\"/learning/introduction\"}],\"sidebar\":{\"/about/\":[{\"text\":\"About\",\"link\":\"/about/introduction\"},{\"text\":\"Contributing\",\"link\":\"/about/contributing\"},{\"text\":\"License\",\"link\":\"/about/license\"}],\"/guide/\":[{\"text\":\"Getting Started\",\"link\":\"/guide/getting-started\"},{\"text\":\"Scripts\",\"collapsed\":true,\"items\":[{\"text\":\"Encrypt / Decrypt\",\"link\":\"/guide/scripts/encrypt-decrypt\"}]}],\"/learning/\":[{\"text\":\"Introduction\",\"link\":\"/learning/introduction\"},{\"text\":\"Network protocols\",\"collapsed\":true,\"items\":[{\"text\":\"Internet network\",\"link\":\"/fr/learning/network-protocols/introduction\"}]},{\"text\":\"Kubernetes\",\"collapsed\":true,\"items\":[{\"text\":\"??\",\"link\":\"/fr/learning/kubernetes/introduction\"}]},{\"text\":\"Prometheus\",\"collapsed\":true,\"items\":[{\"text\":\"??\",\"link\":\"/fr/learning/prometheus/introduction\"}]},{\"text\":\"Grafana\",\"collapsed\":true,\"items\":[{\"text\":\"??\",\"link\":\"/fr/learning/grafana/introduction\"}]},{\"text\":\"Jenkins\",\"collapsed\":true,\"items\":[{\"text\":\"??\",\"link\":\"/fr/learning/jenkins/introduction\"}]},{\"text\":\"Ansible\",\"collapsed\":true,\"items\":[{\"text\":\"??\",\"link\":\"/fr/learning/ansible/introduction\"}]}]},\"footer\":{\"copyright\":\"MIT Licensed | Copyright © 2024 Tristan Greffe\"}},\"locales\":{\"root\":{\"label\":\"English\",\"lang\":\"en\"},\"fr\":{\"label\":\"French\",\"lang\":\"fr\",\"themeConfig\":{\"nav\":[{\"text\":\"A propos\",\"link\":\"/fr/about/introduction\"},{\"text\":\"Guide\",\"link\":\"/fr/guide/getting-started\"},{\"text\":\"Apprentissage\",\"link\":\"/fr/learning/introduction\"}],\"sidebar\":{\"/fr/about/\":[{\"text\":\"A propos\",\"link\":\"/fr/about/introduction\"},{\"text\":\"Contribuer\",\"link\":\"/fr/about/contributing\"},{\"text\":\"Licence\",\"link\":\"/fr/about/license\"}],\"/fr/guide/\":[{\"text\":\"Démarrer\",\"link\":\"/fr/guide/getting-started\"},{\"text\":\"Scripts\",\"collapsed\":true,\"items\":[{\"text\":\"Chiffrer / Déchiffrer\",\"link\":\"/fr/guide/scripts/encrypt-decrypt\"}]}],\"/fr/learning/\":[{\"text\":\"Introduction\",\"link\":\"/fr/learning/introduction\"},{\"text\":\"Protocoles réseaux\",\"collapsed\":true,\"items\":[{\"text\":\"Réseau internet\",\"link\":\"/fr/learning/network-protocols/introduction\"}]},{\"text\":\"Kubernetes\",\"collapsed\":true,\"items\":[{\"text\":\"??\",\"link\":\"/fr/learning/kubernetes/introduction\"}]},{\"text\":\"Prometheus\",\"collapsed\":true,\"items\":[{\"text\":\"??\",\"link\":\"/fr/learning/prometheus/introduction\"}]},{\"text\":\"Grafana\",\"collapsed\":true,\"items\":[{\"text\":\"??\",\"link\":\"/fr/learning/grafana/introduction\"}]},{\"text\":\"Jenkins\",\"collapsed\":true,\"items\":[{\"text\":\"??\",\"link\":\"/fr/learning/jenkins/introduction\"}]},{\"text\":\"Ansible\",\"collapsed\":true,\"items\":[{\"text\":\"??\",\"link\":\"/fr/learning/ansible/introduction\"}]}]},\"docFooter\":{\"prev\":\"Page précédente\",\"next\":\"Page suivante\"}}}},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>