import{_ as e,c as t,o as s,a1 as a,ah as i}from"./chunks/framework.CgL1aY5S.js";const m=JSON.parse('{"title":"Gestion de Kubernetes","description":"","frontmatter":{},"headers":[],"relativePath":"fr/learning/kubernetes/management.md","filePath":"fr/learning/kubernetes/management.md"}'),r={name:"fr/learning/kubernetes/management.md"},n=a('<h1 id="gestion-de-kubernetes" tabindex="-1">Gestion de Kubernetes <a class="header-anchor" href="#gestion-de-kubernetes" aria-label="Permalink to &quot;Gestion de Kubernetes&quot;">​</a></h1><p>Pour interagir avec l&#39;API de Kubernetes, il est nécessaire de fournir les spécifications au format JSON dans le corps des requêtes HTTP. Pour ce faire, il faut fournir des fichiers de configuration au format YAML et les transmettre via l&#39;interface en ligne de commande (CLI) de Kubernetes.</p><p><img src="'+i+`" alt="kubernetes-loop"></p><ol><li><strong>Écriture de fichiers YAML ou JSON</strong> : Décrire l&#39;état désiré de l&#39;application</li><li><strong>Publication sur le serveur kube-api</strong> : Envoi des informations</li><li><strong>Distribution de la charge de travail par la node master</strong> : Le cluster correspond à l&#39;état désiré</li><li><strong>Stockage de la charge de travail dans etcd et déploiement</strong> : Configuration conservée et charge de travail déployée</li><li><strong>Vérification continue par Kubernetes</strong> : Garantie que l&#39;état actuel correspond au souhaité</li><li><strong>Boucle de vérification Kubernetes (Kubernetes watch loop)</strong> : Réactive les pods défaillants</li></ol><div class="tip custom-block"><p class="custom-block-title">Chaque objet comprend deux champs :</p><ul><li><strong>Spécification (spec)</strong>: Caractéristiques souhaitées pour la ressource</li><li><strong>État (status)</strong> : Description de l&#39;état actuel, géré activement par Kubernetes</li></ul></div><h2 id="vue-d-ensemble-de-l-api" tabindex="-1">Vue d&#39;ensemble de l&#39;API <a class="header-anchor" href="#vue-d-ensemble-de-l-api" aria-label="Permalink to &quot;Vue d&#39;ensemble de l&#39;API&quot;">​</a></h2><h3 id="version-de-l-api" tabindex="-1"><a href="https://kubernetes.io/docs/reference/using-api/#api-versioning" target="_blank" rel="noreferrer">Version de l&#39;API</a> <a class="header-anchor" href="#version-de-l-api" aria-label="Permalink to &quot;[Version de l&#39;API](https://kubernetes.io/docs/reference/using-api/#api-versioning)&quot;">​</a></h3><table><thead><tr><th>Version</th><th>Nom</th><th>Description</th></tr></thead><tbody><tr><td>Alpha</td><td><code>v1alpha1</code></td><td>Désactivée par défaut, non recommandée pour la production en raison de bugs potentiels.</td></tr><tr><td>Beta</td><td><code>v2beta3</code></td><td>Testée, activée en toute sécurité mais sujette à des changements dans les futures versions.</td></tr><tr><td>Stable</td><td><code>vX</code></td><td>Disponible pour toutes les versions futures de Kubernetes</td></tr></tbody></table><h3 id="groupes-d-api" tabindex="-1"><a href="https://kubernetes.io/docs/reference/using-api/#api-groups" target="_blank" rel="noreferrer">Groupes d&#39;API</a> <a class="header-anchor" href="#groupes-d-api" aria-label="Permalink to &quot;[Groupes d&#39;API](https://kubernetes.io/docs/reference/using-api/#api-groups)&quot;">​</a></h3><p>Les <strong>groupes d&#39;API</strong> organisent les différentes versions et types d&#39;API.</p><table><thead><tr><th>Groupe</th><th>Endpoint</th><th>Champ YAML <code>apiversion</code></th><th>Description</th></tr></thead><tbody><tr><td>Core ou Legacy</td><td>REST <code>/api/v1</code></td><td><code>v1</code></td><td>Types de ressources et versions d&#39;API originales de Kubernetes.</td></tr><tr><td>Nommés</td><td>REST <code>/apis/$NOM_GROUPE/$VERSION</code></td><td><code>batch/v1</code></td><td>Types et versions d&#39;API ajoutés après l&#39;introduction des groupes d&#39;API.</td></tr></tbody></table><h2 id="command-line-tool-kubectl" tabindex="-1">Command line tool (<code>kubectl</code>) <a class="header-anchor" href="#command-line-tool-kubectl" aria-label="Permalink to &quot;Command line tool (\`kubectl\`)&quot;">​</a></h2><p><a href="https://kubernetes.io/docs/reference/kubectl/" target="_blank" rel="noreferrer">kubectl</a> est l&#39;interface en ligne de commande (CLI) pour interagir avec un cluster Kubernetes.</p><h3 id="structure-des-commandes" tabindex="-1">Structure des commandes <a class="header-anchor" href="#structure-des-commandes" aria-label="Permalink to &quot;Structure des commandes&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [command] [TYPE] [NAME] [flags]</span></span></code></pre></div><table><thead><tr><th>Attribut</th><th>Description</th></tr></thead><tbody><tr><td><strong>command</strong></td><td>Type d&#39;opération (create, describe, get, apply, delete, apply)</td></tr><tr><td><strong>TYPE</strong></td><td>Type de ressource (Pod, Service, Deployment, etc.)</td></tr><tr><td><strong>NAME</strong></td><td>Nom de la ressource</td></tr><tr><td><strong>flags</strong></td><td>Options spéciales ou actions sur la ressource (<code>-s</code> ou <code>--server</code> pour spécifier l&#39;adresse et le port du serveur API Kubernetes)</td></tr></tbody></table><h3 id="exemples-de-commandes" tabindex="-1">Exemples de commandes <a class="header-anchor" href="#exemples-de-commandes" aria-label="Permalink to &quot;Exemples de commandes&quot;">​</a></h3><table><thead><tr><th>Commande</th><th>Description</th></tr></thead><tbody><tr><td><code>kubectl apply -f deployment.yml</code></td><td>Appliquer une configuration à partir d&#39;un fichier YAML</td></tr><tr><td><code>kubectl get all</code></td><td>Récupérer toutes les ressources</td></tr><tr><td><code>kubectl api-resources</code></td><td>Lister les ressources disponibles</td></tr><tr><td><code>kubectl get pod --show-labels</code></td><td>Vérifier les labels des Pods</td></tr><tr><td><code>kubectl exec -it curl -- curl 10.43.5.10</code></td><td>Exécuter une commande dans un Pod</td></tr><tr><td><code>kubectl scale deployment</code></td><td>Mettre à l&#39;échelle un déploiement</td></tr><tr><td><code>kubectl get namespaces</code></td><td>Obtenir les namespaces</td></tr><tr><td><code>kubectl get all -n namespace</code></td><td>Lister les ressources dans un namespace spécifique</td></tr><tr><td><code>kubectl delete service</code></td><td>Supprimer un service</td></tr><tr><td><code>kubectl delete deployment</code></td><td>Supprimer un déploiement</td></tr><tr><td><code>kubectl expose deployment</code></td><td>Exposer un déploiement</td></tr></tbody></table><h2 id="fichiers-de-configuration-yaml" tabindex="-1">Fichiers de configuration (YAML) <a class="header-anchor" href="#fichiers-de-configuration-yaml" aria-label="Permalink to &quot;Fichiers de configuration (YAML)&quot;">​</a></h2><p>Les fichiers <strong>YAML (Yet Another Markup Language)</strong> sont utilisés pour configurer Kubernetes.</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">apiVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">v1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">kind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Pod</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">wordpress</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">spec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  containers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">wordpress</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">wordpress</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    ports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">containerPort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span></span></code></pre></div><table><thead><tr><th>Attribut</th><th>Description</th></tr></thead><tbody><tr><td><strong>apiVersion</strong></td><td>Version de l&#39;API Kubernetes</td></tr><tr><td><strong>kind</strong></td><td>Type d&#39;objet à créer</td></tr><tr><td><strong>metadata</strong></td><td>Métadonnées sur l&#39;objet (nom, labels, etc.)</td></tr><tr><td><strong>spec</strong></td><td>Spécifications de l&#39;objet (état souhaité)</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">Appliquer un Fichier YAML</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apply</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wordpress.yml</span></span></code></pre></div></div>`,23),d=[n];function o(l,c,p,h,u,k){return s(),t("div",null,d)}const b=e(r,[["render",o]]);export{m as __pageData,b as default};
